/*
Factory (Фабрика)
Паттерн "Фабрика" используется для создания объектов, не уточняя точный класс создаваемого объекта.
В C можно использовать функцию, которая возвращает указатель на структуру, в зависимости от входных данных.
*/

#include <stdio.h>
#include <stdlib.h>

// Определение структуры продукта
typedef struct {
    int type;
} Product;

// Функция для создания продуктов различных типов
Product* create_product(int type) {
    Product* p = (Product*)malloc(sizeof(Product));  // Выделение памяти для нового продукта
    p->type = type;  // Установка типа продукта
    return p;  // Возвращаем указатель на созданный продукт
}

int main() {
    Product* p1 = create_product(1);  // Создание продукта типа 1
    printf("Product type: %d\n", p1->type);  // Вывод типа продукта

    free(p1);  // Освобождаем память после использования
    return 0;
}
