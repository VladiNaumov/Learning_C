/*
Decorator (Декоратор)
Паттерн "Декоратор" позволяет динамически добавлять новое поведение объектам.
В C можно использовать функции, которые принимают другие функции в качестве параметров и расширяют их поведение.
*/

#include <stdio.h>

// Определяем тип функции-компонента
typedef void (*Component)();

// Базовый компонент
void base_component() {
    printf("Base Component\n");
}

// Декоратор, добавляющий новое поведение
void decorator(Component comp) {
    printf("Before Decorator\n");  // Поведение перед вызовом компонента
    comp();  // Вызов компонента
    printf("After Decorator\n");  // Поведение после вызова компонента
}

int main() {
    decorator(base_component);  // Оборачиваем базовый компонент декоратором
    return 0;
}
