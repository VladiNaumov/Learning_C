#include <stdio.h>

union My_Union
{
    int variable_1;
    int variable_2;
};

/*
 * Объединение (union) — это тип данных, в котором все члены (переменные) занимают одно и то же место в памяти.
 * Это означает, что изменение одного члена влияет на значение другого.
 *
 */

struct My_Struct
{
    int variable_1;
    int variable_2;
};

/*
 * Структура (struct) — это тип данных, в котором каждому члену выделяется собственное место в памяти.
 * Изменение одного члена не влияет на другие члены.
 */

int main (void)
{
        union My_Union u;
        struct My_Struct s;

        // Присваиваем значение 1 полю variable_1 в объединении
        u.variable_1 = 1;

        // Присваиваем значение 2 полю variable_2 в объединении
        // Так как это объединение, значение variable_1 будет перезаписано.
        u.variable_2 = 2;

        // Присваиваем значение 1 полю variable_1 в структуре
        s.variable_1 = 1;

        // Присваиваем значение 2 полю variable_2 в структуре
        // В структуре каждый член имеет свое собственное место в памяти, поэтому значения не влияют друг на друга.
        s.variable_2 = 2;

        // Вывод значений членов объединения
        // Оба значения будут равны 2, так как variable_1 был перезаписан через variable_2.
        printf("u.variable_1: %i\n", u.variable_1);
        printf("u.variable_2: %i\n", u.variable_2);

        // Вывод значений членов структуры
        // Значения остаются независимыми: variable_1 = 1, variable_2 = 2.
        printf("s.variable_1: %i\n", s.variable_1);
        printf("s.variable_2: %i\n", s.variable_2);

        // Вывод размера объединения
        // Размер объединения равен размеру самого большого его члена, в данном случае это 4 байта.
        printf("sizeof (union My_Union): %i\n", (int)sizeof(union My_Union));

        // Вывод размера структуры
        // Размер структуры равен сумме размеров всех её членов (4 байта + 4 байта = 8 байт).
        printf("sizeof (struct My_Struct): %i\n", (int)sizeof(struct My_Struct));

        return 0;
}

/*
 * Выводы:
Объединение (union): Переменные variable_1 и variable_2 разделяют одну и ту же память, поэтому при присваивании значения u.variable_2 = 2, значение u.variable_1 также меняется.

Структура (struct): Переменные variable_1 и variable_2 независимы и хранятся в отдельных местах памяти, поэтому они могут содержать разные значения.

Размеры: Размер объединения равен размеру самого большого члена, тогда как размер структуры равен сумме размеров всех её членов.

Этот код отлично иллюстрирует, как различаются union и struct в плане управления памятью и их использования в языке C.
 */