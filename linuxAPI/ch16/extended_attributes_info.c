/* 16 Extended Attributes */


/* Расширенные атрибуты служат для реализации списков контроля доступа
   и других возможностей файлов (например, метаданных). */

#include <sys/xattr.h>

/* Функция для установки расширенного атрибута на файл или каталог */
int setxattr(const char *pathname, const char *name, const void *value, size_t size, int flags);
/* Описание:
   Устанавливает расширенный атрибут для указанного файла или каталога. Атрибут имеет имя 'name' и значение 'value' длиной 'size'.
   Флаги 'flags' могут указывать дополнительные параметры (например, XATTR_CREATE для создания атрибута только в том случае, если он еще не существует).
   
   Применение:
   Используется для добавления или изменения атрибутов файла или каталога, таких как ACL, метаданные или другая информация, требующая расширенных атрибутов.
*/

int lsetxattr(const char *pathname, const char *name, const void *value, size_t size, int flags);
/* Описание:
   Устанавливает расширенный атрибут для символической ссылки (если путь указывает на ссылку), а не на сам файл.
   
   Применение:
   Полезно для изменения атрибутов, связанных с символическими ссылками, не затрагивая целевой файл.
*/

int fsetxattr(int fd, const char *name, const void *value, size_t size, int flags);
/* Описание:
   Устанавливает расширенный атрибут для файла, который открыт через дескриптор файла (fd).
   
   Применение:
   Используется для работы с аттрибутами открытого файла без указания полного пути к файлу.
*/

#include <sys/xattr.h>

/* Функция для получения значения расширенного атрибута */
ssize_t getxattr(const char *pathname, const char *name, void *value, size_t size);
/* Описание:
   Получает значение расширенного атрибута для указанного файла или каталога. 
   Значение атрибута будет записано в память, на которую указывает 'value'.
   
   Применение:
   Используется для извлечения информации, связанной с файлом или каталогом, например, его ACL или метаданных.
*/

ssize_t lgetxattr(const char *pathname, const char *name, void *value, size_t size);
/* Описание:
   Получает значение расширенного атрибута для символической ссылки (если путь указывает на ссылку), а не на сам файл.
   
   Применение:
   Полезно для извлечения информации, связанной с символической ссылкой, а не с целевым файлом.
*/

ssize_t fgetxattr(int fd, const char *name, void *value, size_t size);
/* Описание:
   Получает значение расширенного атрибута для открытого файла, указанного дескриптором файла (fd).
   
   Применение:
   Используется для получения атрибута файла, который уже открыт в процессе, без указания пути.
*/

#include <sys/xattr.h>

/* Функция для удаления расширенного атрибута */
int removexattr(const char *pathname, const char *name);
/* Описание:
   Удаляет расширенный атрибут с указанного файла или каталога.
   
   Применение:
   Используется для удаления ненужных или устаревших атрибутов файлов и каталогов.
*/

int lremovexattr(const char *pathname, const char *name);
/* Описание:
   Удаляет расширенный атрибут с символической ссылки, а не с файла, на который она указывает.
   
   Применение:
   Полезно для удаления атрибутов, связанных с символической ссылкой.
*/

int fremovexattr(int fd, const char *name);
/* Описание:
   Удаляет расширенный атрибут с открытого файла, указанного дескриптором файла (fd).
   
   Применение:
   Используется для удаления атрибутов с уже открытых файлов.
*/

#include <sys/xattr.h>

/* Функция для получения списка всех расширенных атрибутов файла */
ssize_t listxattr(const char *pathname, char *list, size_t size);
/* Описание:
   Получает список имен всех расширенных атрибутов, установленных для файла или каталога, и записывает их в буфер 'list'.
   
   Применение:
   Используется для получения информации о всех расширенных атрибутах файла или каталога.
*/

ssize_t llistxattr(const char *pathname, char *list, size_t size);
/* Описание:
   Получает список имен всех расширенных атрибутов для символической ссылки.
   
   Применение:
   Полезно для получения списка атрибутов, связанных с символической ссылкой.
*/

ssize_t flistxattr(int fd, char *list, size_t size);
/* Описание:
   Получает список имен всех расширенных атрибутов для открытого файла, указанного дескриптором файла (fd).
   
   Применение:
   Используется для получения списка атрибутов открытого файла без указания пути.
*/

/*

### Резюме:
Расширенные атрибуты позволяют хранить дополнительные метаданные о файлах и каталогах, которые не могут быть сохранены в стандартных атрибутах файловой системы. Это может включать данные, связанные с контролем доступа (например, списки контроля доступа, ACL), безопасности и других настроек.

Основные функции:
- **setxattr**, **lsetxattr**, **fsetxattr** — для установки атрибутов на файлы, символические ссылки и открытые файлы.
- **getxattr**, **lgetxattr**, **fgetxattr** — для получения атрибутов файлов и символических ссылок.
- **removexattr**, **lremovexattr**, **fremovexattr** — для удаления атрибутов.
- **listxattr**, **llistxattr**, **flistxattr** — для получения списка всех установленных атрибутов.

Эти функции полезны для реализации специфических возможностей файлов, таких как безопасный доступ, метаданные, или другие атрибуты, которые могут быть использованы операционной системой или приложениями.

*/