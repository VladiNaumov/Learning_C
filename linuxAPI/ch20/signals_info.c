/* 20 Signals */

#include <signal.h>

/*
 * signal - устанавливает обработчик для сигнала.
 * 
 * sig - номер сигнала (например, SIGINT, SIGTERM и т.д.).
 * handler - указатель на функцию-обработчик, которая будет вызвана при получении сигнала.
 * 
 * Возвращает указатель на предыдущий обработчик для данного сигнала.
 */
void (*signal(int sig, void (*handler)(int)))(int);

/*
 * kill - посылает сигнал процессу.
 * 
 * pid - идентификатор процесса, которому посылается сигнал. Если pid == 0, сигнал отправляется всем процессам в группе.
 * sig - номер сигнала.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int kill(pid_t pid, int sig);

/*
 * raise - посылает сигнал текущему процессу.
 * 
 * sig - номер сигнала.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int raise(int sig);

/*
 * strsignal - возвращает строковое представление сигнала.
 * 
 * sig - номер сигнала.
 * 
 * Возвращает строку с названием сигнала (например, "SIGINT").
 */
#define _BSD_SOURCE
#include <signal.h>
extern const char *const sys_siglist[];

/*
 * strsignal - возвращает строковое представление сигнала (с дополнительными возможностями GNU).
 * 
 * sig - номер сигнала.
 * 
 * Возвращает строку с названием сигнала.
 */
#define _GNU_SOURCE
#include <string.h>
char *strsignal(int sig);

/*
 * psignal - выводит сообщение с текстом, связанным с сигналом.
 * 
 * sig - номер сигнала.
 * msg - строка с сообщением.
 * 
 * Функция выводит сообщение в стандартный поток ошибок, при этом также указывается текстовое описание сигнала.
 */
#include <signal.h>
void psignal(int sig, const char *msg);

/*
 * sigemptyset - инициализирует множество сигналов как пустое.
 * 
 * set - указатель на множество сигналов.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
#include <signal.h>
int sigemptyset(sigset_t *set);

/*
 * sigfillset - инициализирует множество сигналов как полное (все сигналы включены).
 * 
 * set - указатель на множество сигналов.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int sigfillset(sigset_t *set);

/*
 * sigaddset - добавляет сигнал в множество сигналов.
 * 
 * set - указатель на множество сигналов.
 * sig - номер сигнала, который добавляется.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
#include <signal.h>
int sigaddset(sigset_t *set, int sig);

/*
 * sigdelset - удаляет сигнал из множества сигналов.
 * 
 * set - указатель на множество сигналов.
 * sig - номер сигнала, который удаляется.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int sigdelset(sigset_t *set, int sig);

/*
 * sigismember - проверяет, включен ли сигнал в множество.
 * 
 * set - указатель на множество сигналов.
 * sig - номер сигнала.
 * 
 * Возвращает 1, если сигнал включен, и 0, если нет.
 */
#include <signal.h>
int sigismember(const sigset_t *set, int sig);

/*
 * sigandset - выполняет побитовую операцию "И" для двух множеств сигналов.
 * 
 * set - указатель на результат.
 * left - указатель на левое множество.
 * right - указатель на правое множество.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
#define _GNU_SOURCE
#include <signal.h>
int sigandset(sigset_t *set, sigset_t *left, sigset_t *right);

/*
 * sigorset - выполняет побитовую операцию "ИЛИ" для двух множеств сигналов.
 * 
 * set - указатель на результат.
 * left - указатель на левое множество.
 * right - указатель на правое множество.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int sigorset(sigset_t *dest, sigset_t *left, sigset_t *right);

/*
 * sigisemptyset - проверяет, является ли множество сигналов пустым.
 * 
 * set - указатель на множество сигналов.
 * 
 * Возвращает 1, если множество пусто, и 0 в противном случае.
 */
int sigisemptyset(const sigset_t *set);

/*
 * sigprocmask - изменяет маску сигналов для текущего процесса.
 * 
 * how - определяет, как должна изменяться маска сигналов (SIG_BLOCK, SIG_UNBLOCK, SIG_SETMASK).
 * set - указатель на множество сигналов, которое будет использоваться.
 * oldset - указатель на старую маску сигналов (можно передать NULL).
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
#include <signal.h>
int sigprocmask(int how, const sigset_t *set, sigset_t *oldset);

/*
 * sigpending - получает множество сигналов, которые в данный момент ожидают обработки.
 * 
 * set - указатель на множество сигналов.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
int sigpending(sigset_t *set);

/*
 * sigaction - устанавливает обработчик для сигнала с возможностью сохранения старого обработчика.
 * 
 * sig - номер сигнала.
 * act - указатель на структуру sigaction с новым обработчиком.
 * oldact - указатель на структуру sigaction для сохранения старого обработчика.
 * 
 * Возвращает 0 в случае успеха или -1 в случае ошибки.
 */
#include <signal.h>
int sigaction(int sig, const struct sigaction *act, struct sigaction *oldact);

/*
 * pause - приостанавливает выполнение текущего процесса до получения сигнала.
 * 
 * Функция возвращает -1 в случае ошибки.
 */
#include <unistd.h>
int pause(void);

/*
 * Резюме:
 * Все эти функции работают с сигналами в Unix-подобных операционных системах. Сигналы представляют собой механизм асинхронной обработки событий, которые могут быть использованы для управления процессами. Некоторые функции позволяют устанавливать обработчики сигналов, посылать сигналы между процессами, манипулировать множествами сигналов (для блокировки или проверки наличия сигналов) и ожидать получения сигналов. Основной целью является эффективное управление асинхронными событиями в многозадачных системах.
 */




/* 21 Signals */
