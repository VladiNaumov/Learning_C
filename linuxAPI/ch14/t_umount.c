/*
Программа t_umount.c

Демонстрирует использование системного вызова umount() для отмонтирования точки монтирования.

Использование: t_umount точка-монтирования

Эта программа специфична для Linux.
*/

#include <sys/mount.h>
#include "tlpi_hdr.h"

int
main(int argc, char *argv[])
{
    if (argc != 2 || strcmp(argv[1], "--help") == 0)
        usageErr("%s mount-point\n", argv[0]);  // Проверка, что указан путь к точке монтирования

    if (umount(argv[1]) == -1)
        errExit("umount");  // Вызов umount() для отмонтирования, обработка ошибки при неудаче

    exit(EXIT_SUCCESS);
}

/*
### Пояснение
- `umount(argv[1])` выполняет отмонтирование указанной точки монтирования, освобождая доступ к файловой системе, связанной с ней.
- Если отмонтирование не удалось, программа выводит сообщение об ошибке и завершает работу с ошибкой.
*/
